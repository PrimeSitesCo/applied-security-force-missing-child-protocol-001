<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400&display=swap" rel="stylesheet" />
  <link rel="icon" type="image/x-icon" href="./favicon.ico" />
  <title>App</title>
  <link rel="stylesheet" href="./public/assets/style.css" />
</head>
<body>
  <!-- PUBLIC LOGIN SHELL ONLY -->
  <div class="form-container" id="login-shell">
    <div class="logo-container">
      <a href="" target="_blank">
        <img src="./public/assets/logo-light.png" id="light-logo" alt="App" class="logo" />
        <img src="./public/assets/logo-dark.png" id="dark-logo" alt="App" class="logo" />
      </a>
    </div>

    <!-- Log in card -->
    <div id="email-verification-form" class="form-section">
      <form id="emailVerificationForm">
        <div>
          <h1>App Login</h1>
          <p class="textSmaller">Enter your authorised email address to log in.</p>
        </div>
        <div class="form-field">
          <label for="verification-email">Email Address</label>
          <input type="email" id="verification-email" placeholder="Enter your email" required />
        </div>
        <div class="cf-turnstile"></div>
        <button type="submit">Log In</button>
      </form>
    </div>

    <!-- OTP card -->
    <div id="otp-form" class="form-section hidden">
      <form id="otpVerificationForm">
        <div>
          <h1>Authentication</h1>
          <p class="textSmaller">Check your email and enter OTP code to authenticate.</p>
        </div>
        <div class="form-field">
          <label for="otp">OTP Code</label>
          <input type="text" id="otp" placeholder="Enter OTP" required autocomplete="one-time-code" minlength="6" maxlength="6" pattern="\d{6}" />
        </div>
        <button type="submit">Verify OTP</button>
      </form>
    </div>

    <!-- Magic-link wait -->
    <div id="magic-wait" class="form-section hidden">
      <div>
        <h1>Check your email</h1>
        <p class="textSmaller">We sent you a secure sign-in link. Open it on this device to continue.</p>
      </div>
    </div>

    <div style="text-align:center; margin-top:30px;">
      <span class="textSmaller">Design &amp; Hosting by</span><br />
      <a href="https://www.primesites.com.au/" target="_blank" class="primesites_footer" title="Hosted &amp; Designed by PrimeSites Digital" alt="Hosted &amp; Designed by PrimeSites Digital">PrimeSites Digital</a>
      <div id="toggle-container">
        <label for="dark-mode-toggle" class="textSmaller">Dark Mode</label>
        <input type="checkbox" id="dark-mode-toggle" />
      </div>
    </div>
  </div>

  <!-- PROTECTED APP MOUNT (SPA renders here after /me says authenticated) -->
  <div id="app-root" class="hidden"></div>

  <script type="module" src="./public/bootstrap.js"></script>
</body>
</html>